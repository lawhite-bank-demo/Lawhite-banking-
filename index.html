<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Lawhite Mobile Bank</title>

<!-- PWA + INSTALL SUPPORT -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b1220">
<link rel="icon" href="icon.png">

<style>
body{
  margin:0;
  font-family:system-ui, -apple-system, sans-serif;
  background: linear-gradient(135deg,#0b1220,#163a5f);
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}

.card{
  width:90%;
  max-width:380px;
  background:white;
  color:#111;
  border-radius:18px;
  padding:25px;
  text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
}

.logo{
  width:90px;
  margin-bottom:10px;
}

h1{
  margin:5px 0;
}

.subtitle{
  color:#666;
  margin-bottom:20px;
}

input{
  width:100%;
  padding:14px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:16px;
}

button{
  width:100%;
  margin-top:15px;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#163a5f;
  color:white;
  font-size:16px;
  cursor:pointer;
}

#error{
  color:red;
  margin-top:10px;
}
</style>
</head>

<body>

<div class="card">
  <img src="icon.png" class="logo">

  <h1>Lawhite Bank</h1>
  <div class="subtitle">Secure Online Banking</div>

  <input id="username" placeholder="Username">
  <input id="pin" type="password" placeholder="PIN">

  <button onclick="login()">Login</button>

  <div id="error"></div>
</div>

<script>
// LOGIN FUNCTION
function login(){

  const name = document.getElementById("username").value.trim().toLowerCase();
  const pin = document.getElementById("pin").value.trim();

  const users = JSON.parse(localStorage.getItem("users")) || [];

  const user = users.find(u =>
    u.username.toLowerCase() === name &&
    u.pin === pin
  );

  if(!user){
    document.getElementById("error").innerText =
      "Invalid username or PIN";
    return;
  }

  localStorage.setItem("currentUser", JSON.stringify(user));
  window.location.href = "bank.html";
}

// SERVICE WORKER REGISTER
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}
</script>

</body>
</html>